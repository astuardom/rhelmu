{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\astuardo\\\\Documents\\\\GitHub\\\\rhelmu\\\\frontend\\\\src\\\\components\\\\RecetasDelPaciente.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CertificadoCompleto from './CertificadoCompleto';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecetasDelPaciente = ({\n  paciente,\n  recargar\n}) => {\n  _s();\n  const [recetas, setRecetas] = useState([]);\n  const [recetaSeleccionada, setRecetaSeleccionada] = useState(null);\n  useEffect(() => {\n    if (!(paciente !== null && paciente !== void 0 && paciente._id)) return;\n    fetch(`const API_URL = process.env.REACT_APP_API_URL;/api/recetas/paciente/${paciente._id}`).then(res => res.json()).then(data => setRecetas(data)).catch(() => alert('❌ Error al cargar recetas'));\n  }, [paciente, recargar]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Recetas del paciente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), recetas.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500\",\n      children: \"No hay recetas registradas.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this) : recetas.map(receta => {\n      const fechaCreacion = new Date(receta.fecha).toLocaleDateString('es-CL');\n      const isVisible = (recetaSeleccionada === null || recetaSeleccionada === void 0 ? void 0 : recetaSeleccionada.id) === receta._id;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 border p-4 rounded shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700\",\n            children: [\"Receta creada el \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: fechaCreacion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-x-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setRecetaSeleccionada(isVisible ? null : {\n                id: receta._id,\n                data: receta\n              }),\n              className: \"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 text-sm\",\n              children: isVisible ? 'Ocultar' : 'Ver Receta'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }, this), isVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(CertificadoCompleto, {\n            receta: receta,\n            paciente: paciente\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)]\n      }, receta._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n};\n_s(RecetasDelPaciente, \"a7ZbrNMWT0V+3wwVPyjHHTGa2vQ=\");\n_c = RecetasDelPaciente;\nexport default RecetasDelPaciente;\nvar _c;\n$RefreshReg$(_c, \"RecetasDelPaciente\");","map":{"version":3,"names":["React","useEffect","useState","CertificadoCompleto","jsxDEV","_jsxDEV","RecetasDelPaciente","paciente","recargar","_s","recetas","setRecetas","recetaSeleccionada","setRecetaSeleccionada","_id","fetch","then","res","json","data","catch","alert","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","map","receta","fechaCreacion","Date","fecha","toLocaleDateString","isVisible","id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/astuardo/Documents/GitHub/rhelmu/frontend/src/components/RecetasDelPaciente.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport CertificadoCompleto from './CertificadoCompleto';\r\n\r\nconst RecetasDelPaciente = ({ paciente, recargar }) => {\r\n  const [recetas, setRecetas] = useState([]);\r\n  const [recetaSeleccionada, setRecetaSeleccionada] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!paciente?._id) return;\r\n    fetch(`const API_URL = process.env.REACT_APP_API_URL;/api/recetas/paciente/${paciente._id}`)\r\n      .then(res => res.json())\r\n      .then(data => setRecetas(data))\r\n      .catch(() => alert('❌ Error al cargar recetas'));\r\n  }, [paciente, recargar]);\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl font-semibold mb-4\">Recetas del paciente</h2>\r\n\r\n      {recetas.length === 0 ? (\r\n        <p className=\"text-gray-500\">No hay recetas registradas.</p>\r\n      ) : (\r\n        recetas.map((receta) => {\r\n          const fechaCreacion = new Date(receta.fecha).toLocaleDateString('es-CL');\r\n          const isVisible = recetaSeleccionada?.id === receta._id;\r\n\r\n          return (\r\n            <div key={receta._id} className=\"mb-6 border p-4 rounded shadow-sm\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <p className=\"text-sm text-gray-700\">\r\n                  Receta creada el <strong>{fechaCreacion}</strong>\r\n                </p>\r\n                <div className=\"space-x-2\">\r\n                  <button\r\n                    onClick={() =>\r\n                      setRecetaSeleccionada(\r\n                        isVisible ? null : { id: receta._id, data: receta }\r\n                      )\r\n                    }\r\n                    className=\"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 text-sm\"\r\n                  >\r\n                    {isVisible ? 'Ocultar' : 'Ver Receta'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {isVisible && (\r\n                <div className=\"mt-4\">\r\n                  <CertificadoCompleto receta={receta} paciente={paciente} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecetasDelPaciente;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}