{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\astuardo\\\\Downloads\\\\project\\\\frontend\\\\src\\\\components\\\\BudgetEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetEditor = ({\n  patient,\n  onSaveBudget\n}) => {\n  _s();\n  const [budget, setBudget] = useState({\n    id: Date.now(),\n    fecha: new Date().toISOString().split('T')[0],\n    pacienteId: (patient === null || patient === void 0 ? void 0 : patient.id) || (patient === null || patient === void 0 ? void 0 : patient._id) || '',\n    items: [],\n    descuento: 0,\n    notas: '',\n    estado: 'pendiente'\n  });\n  const [newItem, setNewItem] = useState({\n    tratamiento: '',\n    cantidad: 1,\n    precio: 0,\n    diente: ''\n  });\n  const budgetRef = useRef();\n  const handleBudgetChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setBudget(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleItemChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewItem(prev => ({\n      ...prev,\n      [name]: name === 'cantidad' || name === 'precio' ? Number(value) : value\n    }));\n  };\n  const addItem = () => {\n    if (!newItem.tratamiento || newItem.precio <= 0) return;\n    const itemWithId = {\n      ...newItem,\n      id: Date.now(),\n      subtotal: newItem.cantidad * newItem.precio\n    };\n    setBudget(prev => ({\n      ...prev,\n      items: [...prev.items, itemWithId]\n    }));\n    setNewItem({\n      tratamiento: '',\n      cantidad: 1,\n      precio: 0,\n      diente: ''\n    });\n  };\n  const removeItem = id => {\n    setBudget(prev => ({\n      ...prev,\n      items: prev.items.filter(item => item.id !== id)\n    }));\n  };\n  const calculateTotal = () => {\n    const subtotal = budget.items.reduce((sum, item) => sum + item.subtotal, 0);\n    const descuento = subtotal * (budget.descuento / 100);\n    return {\n      subtotal,\n      descuento,\n      total: subtotal - descuento\n    };\n  };\n  const handlePrint = () => {\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>Presupuesto Dental</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n            th { background-color: #f5f5f5; }\n          </style>\n        </head>\n        <body>\n          <h2>Presupuesto Dental</h2>\n          <p><strong>Paciente:</strong> ${(patient === null || patient === void 0 ? void 0 : patient.nombre) || ''} ${(patient === null || patient === void 0 ? void 0 : patient.apellido) || ''}</p>\n          <p><strong>Fecha:</strong> ${new Date(budget.fecha).toLocaleDateString('es-ES')}</p>\n          <table>\n            <thead>\n              <tr>\n                <th>Tratamiento</th>\n                <th>Diente</th>\n                <th>Cantidad</th>\n                <th>Precio</th>\n                <th>Subtotal</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${budget.items.map(item => `\n                <tr>\n                  <td>${item.tratamiento}</td>\n                  <td>${item.diente}</td>\n                  <td>${item.cantidad}</td>\n                  <td>$${item.precio.toLocaleString()}</td>\n                  <td>$${item.subtotal.toLocaleString()}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <p><strong>Descuento:</strong> ${budget.descuento}%</p>\n          <p><strong>Total:</strong> $${calculateTotal().total.toLocaleString()}</p>\n        </body>\n      </html>\n    `);\n    printWindow.document.close();\n    printWindow.onload = () => {\n      printWindow.print();\n      printWindow.close();\n    };\n  };\n  const handleConfirm = async () => {\n    try {\n      // 1. Guardar el presupuesto\n      const resPresupuesto = await fetch('http://localhost:5000/api/presupuestos', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(budget)\n      });\n      const savedBudget = await resPresupuesto.json();\n\n      // 2. Registrar paciente si no existe\n      if (!budget.pacienteId && patient) {\n        const resPaciente = await fetch('http://localhost:5000/api/pacientes', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(patient)\n        });\n        const savedPaciente = await resPaciente.json();\n\n        // 3. Actualizar odontograma si hay dientes\n        const dientes = budget.items.map(item => {\n          var _item$diente;\n          return (_item$diente = item.diente) === null || _item$diente === void 0 ? void 0 : _item$diente.trim();\n        }).filter(Boolean).flatMap(d => d.split(',').map(n => n.trim()));\n        if (dientes.length > 0) {\n          await fetch(`http://localhost:5000/api/pacientes/${savedPaciente._id}/odontograma`, {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              odontograma: dientes\n            })\n          });\n        }\n      }\n      alert('Presupuesto confirmado y paciente registrado correctamente.');\n    } catch (error) {\n      console.error('Error al confirmar:', error);\n      alert('Hubo un error al confirmar el presupuesto.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-xl shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold\",\n        children: \"Presupuesto Dental\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrint,\n          className: \"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded\",\n          children: \"Imprimir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSaveBudget(budget),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirm,\n          className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\",\n          children: \"Confirmar Presupuesto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-2 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm text-gray-700\",\n          children: \"Fecha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fecha\",\n          value: budget.fecha,\n          onChange: handleBudgetChange,\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-sm text-gray-700\",\n          children: \"Descuento (%)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"descuento\",\n          value: budget.descuento,\n          onChange: handleBudgetChange,\n          className: \"w-full border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium\",\n        children: \"Agregar Tratamiento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-4 gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"tratamiento\",\n          placeholder: \"Tratamiento\",\n          value: newItem.tratamiento,\n          onChange: handleItemChange,\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"diente\",\n          placeholder: \"Diente (ej: 11, 12)\",\n          value: newItem.diente,\n          onChange: handleItemChange,\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"cantidad\",\n          type: \"number\",\n          value: newItem.cantidad,\n          onChange: handleItemChange,\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"precio\",\n          type: \"number\",\n          value: newItem.precio,\n          onChange: handleItemChange,\n          className: \"border p-2 rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addItem,\n        className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 mt-2\",\n        children: \"Agregar Tratamiento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), budget.items.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-md font-medium mb-2\",\n        children: \"Tratamientos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full border\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Tratamiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Diente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Cantidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Precio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"p-2\",\n              children: \"Acci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: budget.items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: item.tratamiento\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: item.diente\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: item.cantidad\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: [\"$\", item.precio.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: [\"$\", item.subtotal.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeItem(item.id),\n                className: \"text-red-500 hover:underline\",\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 p-4 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-medium mb-3\",\n        children: \"Resumen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Subtotal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", calculateTotal().subtotal.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Descuento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"-$\", calculateTotal().descuento.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between font-bold\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", calculateTotal().total.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(BudgetEditor, \"KncBbOSpi7xxLs88ccr4LSN6k0c=\");\n_c = BudgetEditor;\nexport default BudgetEditor;\nvar _c;\n$RefreshReg$(_c, \"BudgetEditor\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","BudgetEditor","patient","onSaveBudget","_s","budget","setBudget","id","Date","now","fecha","toISOString","split","pacienteId","_id","items","descuento","notas","estado","newItem","setNewItem","tratamiento","cantidad","precio","diente","budgetRef","handleBudgetChange","e","name","value","target","prev","handleItemChange","Number","addItem","itemWithId","subtotal","removeItem","filter","item","calculateTotal","reduce","sum","total","handlePrint","printWindow","window","open","document","write","nombre","apellido","toLocaleDateString","map","toLocaleString","join","close","onload","print","handleConfirm","resPresupuesto","fetch","method","headers","body","JSON","stringify","savedBudget","json","resPaciente","savedPaciente","dientes","_item$diente","trim","Boolean","flatMap","d","n","length","odontograma","alert","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/astuardo/Downloads/project/frontend/src/components/BudgetEditor.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\n\nconst BudgetEditor = ({ patient, onSaveBudget }) => {\n  const [budget, setBudget] = useState({\n    id: Date.now(),\n    fecha: new Date().toISOString().split('T')[0],\n    pacienteId: patient?.id || patient?._id || '',\n    items: [],\n    descuento: 0,\n    notas: '',\n    estado: 'pendiente'\n  });\n\n  const [newItem, setNewItem] = useState({\n    tratamiento: '',\n    cantidad: 1,\n    precio: 0,\n    diente: ''\n  });\n\n  const budgetRef = useRef();\n\n  const handleBudgetChange = (e) => {\n    const { name, value } = e.target;\n    setBudget(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleItemChange = (e) => {\n    const { name, value } = e.target;\n    setNewItem(prev => ({\n      ...prev,\n      [name]: name === 'cantidad' || name === 'precio' ? Number(value) : value\n    }));\n  };\n\n  const addItem = () => {\n    if (!newItem.tratamiento || newItem.precio <= 0) return;\n\n    const itemWithId = {\n      ...newItem,\n      id: Date.now(),\n      subtotal: newItem.cantidad * newItem.precio\n    };\n\n    setBudget(prev => ({ ...prev, items: [...prev.items, itemWithId] }));\n\n    setNewItem({\n      tratamiento: '',\n      cantidad: 1,\n      precio: 0,\n      diente: ''\n    });\n  };\n\n  const removeItem = (id) => {\n    setBudget(prev => ({\n      ...prev,\n      items: prev.items.filter(item => item.id !== id)\n    }));\n  };\n\n  const calculateTotal = () => {\n    const subtotal = budget.items.reduce((sum, item) => sum + item.subtotal, 0);\n    const descuento = subtotal * (budget.descuento / 100);\n    return { subtotal, descuento, total: subtotal - descuento };\n  };\n\n  const handlePrint = () => {\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>Presupuesto Dental</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n            th { background-color: #f5f5f5; }\n          </style>\n        </head>\n        <body>\n          <h2>Presupuesto Dental</h2>\n          <p><strong>Paciente:</strong> ${patient?.nombre || ''} ${patient?.apellido || ''}</p>\n          <p><strong>Fecha:</strong> ${new Date(budget.fecha).toLocaleDateString('es-ES')}</p>\n          <table>\n            <thead>\n              <tr>\n                <th>Tratamiento</th>\n                <th>Diente</th>\n                <th>Cantidad</th>\n                <th>Precio</th>\n                <th>Subtotal</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${budget.items.map(item => `\n                <tr>\n                  <td>${item.tratamiento}</td>\n                  <td>${item.diente}</td>\n                  <td>${item.cantidad}</td>\n                  <td>$${item.precio.toLocaleString()}</td>\n                  <td>$${item.subtotal.toLocaleString()}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <p><strong>Descuento:</strong> ${budget.descuento}%</p>\n          <p><strong>Total:</strong> $${calculateTotal().total.toLocaleString()}</p>\n        </body>\n      </html>\n    `);\n    printWindow.document.close();\n    printWindow.onload = () => {\n      printWindow.print();\n      printWindow.close();\n    };\n  };\n\n  const handleConfirm = async () => {\n    try {\n      // 1. Guardar el presupuesto\n      const resPresupuesto = await fetch('http://localhost:5000/api/presupuestos', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(budget)\n      });\n\n      const savedBudget = await resPresupuesto.json();\n\n      // 2. Registrar paciente si no existe\n      if (!budget.pacienteId && patient) {\n        const resPaciente = await fetch('http://localhost:5000/api/pacientes', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(patient)\n        });\n        const savedPaciente = await resPaciente.json();\n\n        // 3. Actualizar odontograma si hay dientes\n        const dientes = budget.items\n          .map(item => item.diente?.trim())\n          .filter(Boolean)\n          .flatMap(d => d.split(',').map(n => n.trim()));\n\n        if (dientes.length > 0) {\n          await fetch(`http://localhost:5000/api/pacientes/${savedPaciente._id}/odontograma`, {\n            method: 'PATCH',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ odontograma: dientes })\n          });\n        }\n      }\n\n      alert('Presupuesto confirmado y paciente registrado correctamente.');\n    } catch (error) {\n      console.error('Error al confirmar:', error);\n      alert('Hubo un error al confirmar el presupuesto.');\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow\">\n      <div className=\"flex justify-between mb-4\">\n        <h2 className=\"text-xl font-semibold\">Presupuesto Dental</h2>\n        <div className=\"flex gap-3\">\n          <button onClick={handlePrint} className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded\">\n            Imprimir\n          </button>\n          <button onClick={() => onSaveBudget(budget)} className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\">\n            Guardar\n          </button>\n          <button onClick={handleConfirm} className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\">\n            Confirmar Presupuesto\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid md:grid-cols-2 gap-4 mb-6\">\n        <div>\n          <label className=\"text-sm text-gray-700\">Fecha</label>\n          <input type=\"date\" name=\"fecha\" value={budget.fecha} onChange={handleBudgetChange} className=\"w-full border p-2 rounded\" />\n        </div>\n        <div>\n          <label className=\"text-sm text-gray-700\">Descuento (%)</label>\n          <input type=\"number\" name=\"descuento\" value={budget.descuento} onChange={handleBudgetChange} className=\"w-full border p-2 rounded\" />\n        </div>\n      </div>\n\n      <div className=\"space-y-3 mb-6\">\n        <h3 className=\"text-lg font-medium\">Agregar Tratamiento</h3>\n        <div className=\"grid md:grid-cols-4 gap-3\">\n          <input name=\"tratamiento\" placeholder=\"Tratamiento\" value={newItem.tratamiento} onChange={handleItemChange} className=\"border p-2 rounded\" />\n          <input name=\"diente\" placeholder=\"Diente (ej: 11, 12)\" value={newItem.diente} onChange={handleItemChange} className=\"border p-2 rounded\" />\n          <input name=\"cantidad\" type=\"number\" value={newItem.cantidad} onChange={handleItemChange} className=\"border p-2 rounded\" />\n          <input name=\"precio\" type=\"number\" value={newItem.precio} onChange={handleItemChange} className=\"border p-2 rounded\" />\n        </div>\n        <button onClick={addItem} className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 mt-2\">Agregar Tratamiento</button>\n      </div>\n\n      {budget.items.length > 0 && (\n        <div className=\"mb-6\">\n          <h4 className=\"text-md font-medium mb-2\">Tratamientos</h4>\n          <table className=\"min-w-full border\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"p-2\">Tratamiento</th>\n                <th className=\"p-2\">Diente</th>\n                <th className=\"p-2\">Cantidad</th>\n                <th className=\"p-2\">Precio</th>\n                <th className=\"p-2\">Subtotal</th>\n                <th className=\"p-2\">Acci√≥n</th>\n              </tr>\n            </thead>\n            <tbody>\n              {budget.items.map(item => (\n                <tr key={item.id}>\n                  <td className=\"p-2\">{item.tratamiento}</td>\n                  <td className=\"p-2\">{item.diente}</td>\n                  <td className=\"p-2\">{item.cantidad}</td>\n                  <td className=\"p-2\">${item.precio.toLocaleString()}</td>\n                  <td className=\"p-2\">${item.subtotal.toLocaleString()}</td>\n                  <td className=\"p-2\">\n                    <button onClick={() => removeItem(item.id)} className=\"text-red-500 hover:underline\">Eliminar</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h4 className=\"text-lg font-medium mb-3\">Resumen</h4>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between\">\n            <span>Subtotal:</span>\n            <span>${calculateTotal().subtotal.toLocaleString()}</span>\n          </div>\n          <div className=\"flex justify-between\">\n            <span>Descuento:</span>\n            <span>-${calculateTotal().descuento.toLocaleString()}</span>\n          </div>\n          <div className=\"flex justify-between font-bold\">\n            <span>Total:</span>\n            <span>${calculateTotal().total.toLocaleString()}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BudgetEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}