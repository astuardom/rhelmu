{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\astuardo\\\\Downloads\\\\project\\\\frontend\\\\src\\\\components\\\\BudgetEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetEditor = ({\n  patient,\n  onSaveBudget\n}) => {\n  _s();\n  const [budget, setBudget] = useState({\n    id: Date.now(),\n    fecha: new Date().toISOString().split('T')[0],\n    pacienteId: (patient === null || patient === void 0 ? void 0 : patient.id) || '',\n    items: [],\n    descuento: 0,\n    notas: '',\n    estado: 'pendiente'\n  });\n  const [newItem, setNewItem] = useState({\n    tratamiento: '',\n    cantidad: 1,\n    precio: 0,\n    diente: ''\n  });\n  const budgetRef = useRef();\n  const handleBudgetChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setBudget(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleItemChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewItem(prev => ({\n      ...prev,\n      [name]: name === 'cantidad' || name === 'precio' ? Number(value) : value\n    }));\n  };\n  const addItem = () => {\n    if (!newItem.tratamiento || newItem.precio <= 0) return;\n    const itemWithId = {\n      ...newItem,\n      id: Date.now(),\n      subtotal: newItem.cantidad * newItem.precio\n    };\n    setBudget(prev => ({\n      ...prev,\n      items: [...prev.items, itemWithId]\n    }));\n    setNewItem({\n      tratamiento: '',\n      cantidad: 1,\n      precio: 0,\n      diente: ''\n    });\n  };\n  const removeItem = id => {\n    setBudget(prev => ({\n      ...prev,\n      items: prev.items.filter(item => item.id !== id)\n    }));\n  };\n  const calculateTotal = () => {\n    const subtotal = budget.items.reduce((sum, item) => sum + item.subtotal, 0);\n    const descuento = subtotal * (budget.descuento / 100);\n    return {\n      subtotal,\n      descuento,\n      total: subtotal - descuento\n    };\n  };\n  const handlePrint = () => {\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>Presupuesto Dental - ${(patient === null || patient === void 0 ? void 0 : patient.nombre) || ''}</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { text-align: center; margin-bottom: 20px; }\n            .patient-info { margin-bottom: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .totals { text-align: right; margin-top: 20px; }\n            .notes { margin-top: 30px; }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h2>Presupuesto Dental</h2>\n            <p>Fecha: ${new Date(budget.fecha).toLocaleDateString('es-ES')}</p>\n          </div>\n          <div class=\"patient-info\">\n            <p><strong>Paciente:</strong> ${(patient === null || patient === void 0 ? void 0 : patient.nombre) || ''} ${(patient === null || patient === void 0 ? void 0 : patient.apellido) || ''}</p>\n            <p><strong>RUT:</strong> ${(patient === null || patient === void 0 ? void 0 : patient.rut) || ''}</p>\n            <p><strong>Tel√©fono:</strong> ${(patient === null || patient === void 0 ? void 0 : patient.telefono) || ''}</p>\n            <p><strong>Correo:</strong> ${(patient === null || patient === void 0 ? void 0 : patient.email) || ''}</p>\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th>Tratamiento</th>\n                <th>Diente</th>\n                <th>Cantidad</th>\n                <th>Precio Unitario</th>\n                <th>Subtotal</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${budget.items.map(item => `\n                <tr>\n                  <td>${item.tratamiento}</td>\n                  <td>${item.diente || '-'}</td>\n                  <td>${item.cantidad}</td>\n                  <td>$${item.precio.toLocaleString()}</td>\n                  <td>$${item.subtotal.toLocaleString()}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <div class=\"totals\">\n            <p><strong>Subtotal:</strong> $${calculateTotal().subtotal.toLocaleString()}</p>\n            <p><strong>Descuento (${budget.descuento}%):</strong> $${calculateTotal().descuento.toLocaleString()}</p>\n            <p><strong>Total:</strong> $${calculateTotal().total.toLocaleString()}</p>\n          </div>\n          ${budget.notas ? `\n            <div class=\"notes\">\n              <h3>Notas:</h3>\n              <p>${budget.notas}</p>\n            </div>\n          ` : ''}\n          <script>\n            window.onload = function() {\n              setTimeout(function() {\n                window.print();\n                window.close();\n              }, 200);\n            };\n          </script>\n        </body>\n      </html>\n    `);\n    printWindow.document.close();\n  };\n  const handleConfirmBudget = async () => {\n    try {\n      // Guardar presupuesto\n      await onSaveBudget(budget);\n\n      // Guardar paciente si no existe\n      if (!(patient !== null && patient !== void 0 && patient._id)) {\n        const res = await fetch('http://localhost:5000/api/pacientes', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            nombre: patient.nombre,\n            apellido: patient.apellido,\n            rut: patient.rut,\n            telefono: patient.telefono,\n            email: patient.email\n          })\n        });\n        const newPatient = await res.json();\n\n        // Marcar dientes si los hay\n        const dientes = budget.items.map(item => item.diente).filter(Boolean);\n        if (dientes.length) {\n          await fetch(`http://localhost:5000/api/pacientes/${newPatient._id}/odontograma`, {\n            method: 'PATCH',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              odontograma: dientes.map(d => ({\n                numero: d,\n                tratado: true\n              }))\n            })\n          });\n        }\n        alert('Presupuesto confirmado y paciente registrado correctamente.');\n      } else {\n        alert('Presupuesto confirmado.');\n      }\n    } catch (err) {\n      console.error('Error al confirmar presupuesto:', err);\n      alert('Error al confirmar presupuesto.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-sm p-6\",\n    ref: budgetRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold\",\n        children: \"Presupuesto Dental\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrint,\n          className: \"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg\",\n          children: \"Imprimir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onSaveBudget(budget),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-lg\",\n          children: \"Guardar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirmBudget,\n          className: \"px-4 py-2 bg-green-600 text-white rounded-lg\",\n          children: \"Confirmar Presupuesto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n};\n_s(BudgetEditor, \"hT7XcUbFYklKzpj8kJXZIoV+8Xs=\");\n_c = BudgetEditor;\nexport default BudgetEditor;\nvar _c;\n$RefreshReg$(_c, \"BudgetEditor\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","BudgetEditor","patient","onSaveBudget","_s","budget","setBudget","id","Date","now","fecha","toISOString","split","pacienteId","items","descuento","notas","estado","newItem","setNewItem","tratamiento","cantidad","precio","diente","budgetRef","handleBudgetChange","e","name","value","target","prev","handleItemChange","Number","addItem","itemWithId","subtotal","removeItem","filter","item","calculateTotal","reduce","sum","total","handlePrint","printWindow","window","open","document","write","nombre","toLocaleDateString","apellido","rut","telefono","email","map","toLocaleString","join","close","handleConfirmBudget","_id","res","fetch","method","headers","body","JSON","stringify","newPatient","json","dientes","Boolean","length","odontograma","d","numero","tratado","alert","err","console","error","className","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/astuardo/Downloads/project/frontend/src/components/BudgetEditor.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\n\nconst BudgetEditor = ({ patient, onSaveBudget }) => {\n  const [budget, setBudget] = useState({\n    id: Date.now(),\n    fecha: new Date().toISOString().split('T')[0],\n    pacienteId: patient?.id || '',\n    items: [],\n    descuento: 0,\n    notas: '',\n    estado: 'pendiente'\n  });\n\n  const [newItem, setNewItem] = useState({\n    tratamiento: '',\n    cantidad: 1,\n    precio: 0,\n    diente: ''\n  });\n\n  const budgetRef = useRef();\n\n  const handleBudgetChange = (e) => {\n    const { name, value } = e.target;\n    setBudget(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleItemChange = (e) => {\n    const { name, value } = e.target;\n    setNewItem(prev => ({\n      ...prev,\n      [name]: name === 'cantidad' || name === 'precio' ? Number(value) : value\n    }));\n  };\n\n  const addItem = () => {\n    if (!newItem.tratamiento || newItem.precio <= 0) return;\n\n    const itemWithId = {\n      ...newItem,\n      id: Date.now(),\n      subtotal: newItem.cantidad * newItem.precio\n    };\n\n    setBudget(prev => ({\n      ...prev,\n      items: [...prev.items, itemWithId]\n    }));\n\n    setNewItem({\n      tratamiento: '',\n      cantidad: 1,\n      precio: 0,\n      diente: ''\n    });\n  };\n\n  const removeItem = (id) => {\n    setBudget(prev => ({\n      ...prev,\n      items: prev.items.filter(item => item.id !== id)\n    }));\n  };\n\n  const calculateTotal = () => {\n    const subtotal = budget.items.reduce((sum, item) => sum + item.subtotal, 0);\n    const descuento = subtotal * (budget.descuento / 100);\n    return {\n      subtotal,\n      descuento,\n      total: subtotal - descuento\n    };\n  };\n\n  const handlePrint = () => {\n    const printWindow = window.open('', '_blank');\n    printWindow.document.write(`\n      <html>\n        <head>\n          <title>Presupuesto Dental - ${patient?.nombre || ''}</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .header { text-align: center; margin-bottom: 20px; }\n            .patient-info { margin-bottom: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            th { background-color: #f2f2f2; }\n            .totals { text-align: right; margin-top: 20px; }\n            .notes { margin-top: 30px; }\n          </style>\n        </head>\n        <body>\n          <div class=\"header\">\n            <h2>Presupuesto Dental</h2>\n            <p>Fecha: ${new Date(budget.fecha).toLocaleDateString('es-ES')}</p>\n          </div>\n          <div class=\"patient-info\">\n            <p><strong>Paciente:</strong> ${patient?.nombre || ''} ${patient?.apellido || ''}</p>\n            <p><strong>RUT:</strong> ${patient?.rut || ''}</p>\n            <p><strong>Tel√©fono:</strong> ${patient?.telefono || ''}</p>\n            <p><strong>Correo:</strong> ${patient?.email || ''}</p>\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th>Tratamiento</th>\n                <th>Diente</th>\n                <th>Cantidad</th>\n                <th>Precio Unitario</th>\n                <th>Subtotal</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${budget.items.map(item => `\n                <tr>\n                  <td>${item.tratamiento}</td>\n                  <td>${item.diente || '-'}</td>\n                  <td>${item.cantidad}</td>\n                  <td>$${item.precio.toLocaleString()}</td>\n                  <td>$${item.subtotal.toLocaleString()}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <div class=\"totals\">\n            <p><strong>Subtotal:</strong> $${calculateTotal().subtotal.toLocaleString()}</p>\n            <p><strong>Descuento (${budget.descuento}%):</strong> $${calculateTotal().descuento.toLocaleString()}</p>\n            <p><strong>Total:</strong> $${calculateTotal().total.toLocaleString()}</p>\n          </div>\n          ${budget.notas ? `\n            <div class=\"notes\">\n              <h3>Notas:</h3>\n              <p>${budget.notas}</p>\n            </div>\n          ` : ''}\n          <script>\n            window.onload = function() {\n              setTimeout(function() {\n                window.print();\n                window.close();\n              }, 200);\n            };\n          </script>\n        </body>\n      </html>\n    `);\n    printWindow.document.close();\n  };\n\n  const handleConfirmBudget = async () => {\n    try {\n      // Guardar presupuesto\n      await onSaveBudget(budget);\n\n      // Guardar paciente si no existe\n      if (!patient?._id) {\n        const res = await fetch('http://localhost:5000/api/pacientes', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            nombre: patient.nombre,\n            apellido: patient.apellido,\n            rut: patient.rut,\n            telefono: patient.telefono,\n            email: patient.email\n          })\n        });\n\n        const newPatient = await res.json();\n\n        // Marcar dientes si los hay\n        const dientes = budget.items.map(item => item.diente).filter(Boolean);\n        if (dientes.length) {\n          await fetch(`http://localhost:5000/api/pacientes/${newPatient._id}/odontograma`, {\n            method: 'PATCH',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              odontograma: dientes.map(d => ({ numero: d, tratado: true }))\n            })\n          });\n        }\n\n        alert('Presupuesto confirmado y paciente registrado correctamente.');\n      } else {\n        alert('Presupuesto confirmado.');\n      }\n    } catch (err) {\n      console.error('Error al confirmar presupuesto:', err);\n      alert('Error al confirmar presupuesto.');\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm p-6\" ref={budgetRef}>\n      {/* Botones principales */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-xl font-semibold\">Presupuesto Dental</h2>\n        <div className=\"flex space-x-3\">\n          <button onClick={handlePrint} className=\"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg\">Imprimir</button>\n          <button onClick={() => onSaveBudget(budget)} className=\"px-4 py-2 bg-blue-600 text-white rounded-lg\">Guardar</button>\n          <button onClick={handleConfirmBudget} className=\"px-4 py-2 bg-green-600 text-white rounded-lg\">Confirmar Presupuesto</button>\n        </div>\n      </div>\n\n      {/* Aqu√≠ va el resto del formulario de tratamientos y resumen, que ya tienes implementado */}\n      {/* Puedes copiar directamente desde tu c√≥digo original desde aqu√≠ */}\n\n    </div>\n  );\n};\n\nexport default BudgetEditor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}